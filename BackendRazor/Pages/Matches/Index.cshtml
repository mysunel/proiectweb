@page "/Matches"
@model MyApp.Pages.Matches.IndexModel
@using System.Linq 
@{
    ViewData["Title"] = "Match Schedule";
}

<h1 class="text-4xl font-extrabold mb-12 tracking-wide text-gray-900">Match Schedule</h1>

<h2 class="text-3xl font-bold mb-4 mt-8 text-blue-700">Upcoming Matches (@Model.UpcomingMatches.Count)</h2>

@if (Model.UpcomingMatches.Any())
{
    <div class="space-y-6"> 
        @foreach (var match in Model.UpcomingMatches)
        {
            <a href="/matches/@(match.Idmatch)" class="block group no-underline! text-inherit!">
                <div class="w-full p-4 rounded-xl shadow-lg bg-linear-to-r from-gray-50 to-white 
                             transition transform duration-300 hover:scale-[1.01] hover:shadow-xl 
                             flex items-center justify-between relative overflow-hidden border-l-4 border-blue-400"> 
                      
                    <div class="w-16 h-16 flex items-center justify-center relative z-10 shrink-0">
                        <img src="~/images/@(match.IdhomeNavigation?.Idteam + ".svg")"
                             alt="@match.IdhomeNavigation?.Name logo"
                             class="max-w-full max-h-full object-contain drop-shadow-md" />
                    </div>

                    <div class="grow text-center mx-4">
                        <span class="text-xl font-bold text-gray-900">
                            @match.IdhomeNavigation?.Name vs @match.IdguestNavigation?.Name 
                        </span>
                        <br />
                        <span class="text-2xl font-extrabold text-blue-700 mt-1 block">
                            @match.Date.ToString("HH:mm")
                        </span>
                        <span class="text-sm text-gray-600 block mt-1 font-semibold">
                            @match.Date.ToString("dd MMM yyyy")
                        </span>
                    </div>
                    
                    <div class="w-16 h-16 flex items-center justify-center relative z-10 shrink-0">
                        <img src="~/images/@(match.IdguestNavigation?.Idteam + ".svg")"
                             alt="@match.IdguestNavigation?.Name logo"
                             class="max-w-full max-h-full object-contain drop-shadow-md" />
                    </div>
                </div>
           </a>
        }
    </div>
}
else
{
    <p class="text-gray-500 italic mt-4">No upcoming matches scheduled.</p>
}


<h2 class="text-3xl font-bold mb-4 mt-12 text-green-700">Completed Matches (@Model.CompletedMatches.Count)</h2>

@if (Model.CompletedMatches.Any())
{
    <div class="space-y-6"> 
        @foreach (var match in Model.CompletedMatches.OrderByDescending(m => m.Date))
        {
            string gradientClass = "from-blue-200 to-white"; 
            
            if (match.Scorehome > match.Scoreguest)
            {
                gradientClass = "from-green-400 to-red-200";
            }
            else if (match.Scorehome < match.Scoreguest)
            {
                gradientClass = "from-red-400 to-green-200";
            }

            <a href="/matches/@(match.Idmatch)" class="block group no-underline! text-inherit!">
                <div class="w-full p-4 rounded-xl shadow-lg bg-linear-to-r @gradientClass
                             transition transform duration-300 hover:scale-[1.01] hover:shadow-xl 
                             flex items-center justify-between relative overflow-hidden"> 
                      
                    <div class="w-16 h-16 flex items-center justify-center relative z-10 shrink-0">
                        <img src="~/images/@(match.IdhomeNavigation?.Idteam + ".svg")"
                             alt="@match.IdhomeNavigation?.Name logo"
                             class="max-w-full max-h-full object-contain drop-shadow-md" />
                    </div>

                    <div class="grow text-center mx-4">
                        <span class="text-xl font-bold text-gray-900">
                            @match.IdhomeNavigation?.Name vs @match.IdguestNavigation?.Name 
                        </span>
                        <br />
                        <span class="text-2xl font-extrabold text-blue-700 mt-1 block">
                            @match.Scorehome : @match.Scoreguest
                        </span>
                        <span class="text-sm text-gray-600 block mt-1">
                            @match.Date.ToString("dd MMM yyyy") 
                        </span>
                    </div>
                    
                    <div class="w-16 h-16 flex items-center justify-center relative z-10 shrink-0">
                        <img src="~/images/@(match.IdguestNavigation?.Idteam + ".svg")"
                             alt="@match.IdguestNavigation?.Name logo"
                             class="max-w-full max-h-full object-contain drop-shadow-md" />
                    </div>
                </div>
           </a>
        }
    </div>
}
else
{
    <p class="text-gray-500 italic mt-4">No completed matches to display.</p>
}
